<h1>Data Partitioning</h1>
<h2>Why do we partition data?</h2>
<h2>Sharding</h2>
<h3>Vertical sharding</h3>
<h3>Horizontal sharding</h3>
<h4>Key-range based sharding</h4>
<h5>Advantages</h5>
<h5>Disadvantages</h5>
<h4>Hash-based sharding</h4>
<h5>Advantages</h5>
<h5>Disadvantages</h5>
<h4>Consistent hashing</h4>
<h5>Advantages</h5>
<h5>Disadvantages</h5>
<h3>Rebalance the partitions</h3>
<h4>Avoid hash mod n</h4>
<h4>Fixed number of partitions</h4>
<h4>Dynamic partitioning</h4>
<h4>Partition proportionally to nodes</h4>
<h3>Partitioning and secondary indexes</h3>
<h4>Partition secondary indexes by document</h4>
<h4>Partition secondary indexes by the term</h4>
<h2>Request routing</h2>
<h3>ZooKeeper</h3>
<h2>Conclusion</h2>
